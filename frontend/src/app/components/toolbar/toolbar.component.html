<div class="toolbar">
  <div class="info">
    <div class="cash" *ngIf="user">
      <button class="btn">Ваш баланс: {{user.cash}}</button>
    </div>
    <div class="tickets" *ngIf="user">
<!--      <button class="btn" (click)="openTickets()">Ваши билеты</button>-->
    </div>
  </div>

  <div class="buttons">
    <button class="btn" *ngIf="!user" (click)="openSignIn()">Вход</button>
    <button class="btn" *ngIf="!user" (click)="openSignUp()">Регистрация</button>
    <button class="btn" *ngIf="user" (click)="openLogout()">Выйти</button>
  </div>

</div>

<!--<app-popup [onClose]="closeTickets" [isVisible]="showTickets">-->
<!--  <h1>Купленные билеты</h1>-->

<!--</app-popup>-->

<app-popup [onClose]="closeSignUp" [isVisible]="showSignUp">
  <form (submit)="reg()">
  <h1>Регистрация</h1>
  <div class="form-group">
    <p>Введите email: </p>
    <input class="form-control" type="email" name="email" [(ngModel)]="userName" #emailreg="ngModel" placeholder="Email"
           required pattern="[a-zA-Z_]+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}" />
    <div [hidden]="emailreg.untouched || emailreg.valid" class="alert-danger">
      <p>Некорректный email</p>
    </div>
  </div>

  <div class="form-group">
    <p>Введите пароль: </p>
    <input class="form-control" type="pass" name="pass" [(ngModel)]="password" #passreg="ngModel"
           placeholder="Пароль" required pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}" />
    <div [hidden]="passreg.valid || passreg.untouched" class="alert-danger">
      <p>Некорректный пароль</p>
    </div>
  </div>

  <input type="submit" class="btn-submit" value="Зарегистрироваться">
  </form>
</app-popup>

<!--<label>Email</label>-->
<!--<input class="form-control" name="email" [(ngModel)]="user.email" #email="ngModel"-->
<!--       required pattern="[a-zA-Z_]+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}" />-->
<!--<div [hidden]="email.valid || email.untouched" class="alert alert-danger">-->
<!--  Некорректный email-->
<!--</div>-->

<app-popup [onClose]="closeSuccess" [isVisible]="success">
  <h1>Успех</h1>
</app-popup>

<app-popup [onClose]="closeFail" [isVisible]="fail">
  <h1>Ошибка</h1>
</app-popup>

<app-popup [onClose]="closeSignIn" [isVisible]="showSignIn">
  <h1>Авторизация</h1>
  <div class="form-group">
    <p>Введите email: </p>
    <input class="form-control" type="email" name="email" [(ngModel)]="loginModel.username" #email="ngModel"
           placeholder="Email" required pattern="[a-zA-Z_]+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}" />
    <div [hidden]="email.valid || email.untouched" class="alert-danger">
      <p>Некорректный email</p>
    </div>
  </div>

  <div class="form-group">
    <p>Введите пароль: </p>
    <input class="form-control" type="pass" name="pass" [(ngModel)]="loginModel.password" #pass="ngModel"
           placeholder="Пароль" required pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}" />
    <div [hidden]="pass.valid || pass.untouched" class="alert-danger">
      <p>Некорректный пароль</p>
    </div>
  </div>

  <div class="btn-popup">
    <input type="submit" (click)="login()" class="btn-submit" value="Войти">
  </div>
</app-popup>

<app-popup [onClose]="closeSuccessLogin" [isVisible]="successLogin">
  <h1>Добро пожаловать, {{user && user.username}} </h1>
</app-popup>

<app-popup [onClose]="closeFailLogin" [isVisible]="failLogin">
  <h1>Ошибка</h1>
</app-popup>

<app-popup [onClose]="closeLogout" [isVisible]="showLogout">
  <h1>{{user && user.username}}, вы действительно хотите выйти?</h1>
  <input type="submit" (click)="logout()" class="btn-submit" value="Выйти">
</app-popup>

<app-popup [onClose]="closeSuccessLogout" [isVisible]="success">
  <h1>Успех</h1>
</app-popup>

<app-popup [onClose]="closeFailLogout" [isVisible]="fail">
  <h1>Ошибка</h1>
</app-popup>

